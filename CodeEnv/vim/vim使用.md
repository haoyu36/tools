
> vim: Do one thing and do it well


# 一：vim

##  模式

vim 常用的有两种模式，普通模式和编辑模式，所有的命令都是在普通模式下进行的，需要输入文本时进入插入模式



# 二：基本操作

## 1.1 移动

使用方向键或者 `h, j, k, l` 键移动游标

| 操作    |    说明  |
| :------ | :-------- |
|h  |  左    |
|l  | 右（小写L）|
|j  | 下    |
|k  | 上    |

## 1.2 跳转

| 操作      |    说明  |
| :------- | :------------ |
|w    |到下一个单词的开头|
|e    |到当前单词的结尾|
|b    |到前一个单词的开头|
|ge    |到前一个单词的结尾|
|0或^        |到行头|
|$          |到行尾|
|f<字母>    |向后搜索<字母>并跳转到第一个匹配的位置|
|F<字母>    |向前搜索<字母>并跳转到第一个匹配的位置|


`Ctrl+o` 快速回到上一次(跳转前)光标所在位置

## 1.3 进入插入模式

| 操作            |    说明  |
| :-------------- | :------------------- |
|i  | 在当前光标处进行编辑 |
|I  | 在行首插入|
|A  | 在行末插入|
|a  | 在光标后插入编辑|
|o  | 在当前行后插入一个新行|
|O  | 在当前行前插入一个新行|
|cw  | 替换从光标所在位置后到一个单词结尾的字符|

## 1.4 退出

| 操作            |    说明  |
| :-------------- | :------------------- |
|q  |         退出|
|wq! |         强制保存并退出|
|w <文件路径>|   另存为|
|x |         保存并退出|
|wq |         保存并退出|

普通模式下输入`Shift+zz`即可保存退出vim

## 1.5 删除文本

| 操作            |    说明  |
|:-------------- |:------------------- |
|x    |    删除游标所在的字符|
|X    |    删除游标所在前一个字符|
|Delete    |同x|
|dd    |    删除整行|
|dw    |    删除一个单词（不适用中文）|
|d$或D    |删除至行尾|
|d^    |    删除至行首|
|dG    |    删除到文档结尾处|
|d1G    |    删至文档首部|


## 1.6 复制粘贴

| 操作    |说明  |
| :------- |:--------- |
|yy      |复制游标所在的整行（3yy表示复制3行）|
|y^     | 复制至行首，或y0。不含光标所在处字符|
|y$      |复制至行尾。含光标所在处字符|
|yw      |复制一个单词|
|y2w     |复制两个单词|
|yG      |复制至文本末|
|y1G     |复制至文本开头|
|p(小写)  |代表粘贴至光标后（下）|
|P(大写)  |代表粘贴至光标前（上）|


## 1.7 替换和撤销

| 操作     |    说明  |
| :------- | :------------ |
|r+<待替换字母>   |  将游标所在字母替换为指定字母|
|R   |            连续替换，直到按下Esc|
|cc   |            替换整行，即删除游标所在行，并进入插入模式|
|cw   |            替换一个单词，即删除一个单词，并进入插入模式|
|C     |       替换游标以后至行末|
|~   |            反转游标所在字母大小写|
|u{n}   |         撤销一次或n次操作|
|U       |         撤销当前行的所有修改|
|Ctrl+r   |         即撤销undo的操作|
|:s/target/replace  |   替换|
|:%s/target/replace/g  |   替换|


## 1.8 查找

| 操作            |    说明  |
| :-------------- | :------------------- |
|/  |   用命令行执行正向查找|
|？ |   用命令行执行反向查找|


## 1.9 其他

| 操作            |    说明  |
| :-------------- | :------------------- |
|>> |   整行将向右缩进|
|>G  |   增加当前行到文档末尾的缩进层级|
|<<  | 整行向左回退|
|/icmp  |  然后回车即可查找字符串 icmp|




# 三：常用技巧


## 3.1 重复

`.` 重复上次修改
|;   |重复查找上次 f 命令所查找的字符|
|&   |重复执行上一次的替换|


## 3.2 多文件编辑

| 操作            |    说明  |
| :-------------- | :------------------- |
|:new        |  打开新的视窗|
|:sp 1.txt   |打开新的水平分屏视窗来编辑1.txt|
|:vsp 2.txt | 打开新的垂直分屏视窗来编辑2.txt|
|Ctrl+w j    |移至下面视窗|
|Ctrl+w k    |移至上面视窗|
|Ctrl+w h    |移至左边视窗|
|Ctrl+w l    |移至右边视窗|
|Ctrl+w J    |将当前视窗移至下面|
|Ctrl+w K    |将当前视窗移至上面|
|Ctrl+w H    |将当前视窗移至左边|
|Ctrl+w L    |将当前视窗移至右边|
|Ctrl+w -    |减小视窗的高度|
|Ctrl+w +    |增加视窗的高度|


# 四：扩展阅读

- [vim](https://python-web-guide.readthedocs.io/zh/latest/devtools/vim.html)
- [Vim 从入门到精通](https://github.com/wsdjeg/vim-galore-zh_cn)
- [A vim Tutorial and Primer](https://danielmiessler.com/study/vim/)
- [简明 VIM 练级攻略](https://coolshell.cn/articles/5426.html)


